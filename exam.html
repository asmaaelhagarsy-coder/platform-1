
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Unit 1 â€” Interactive Exam</title>
<style>
:root{--bg:#f7fbff;--card:#ffffff;--ink:#0f1b33;--muted:#506283;--accent:#2ea5ff;--accent2:#ff7ac4;--accent3:#59d28f;--good:#31c48d;--bad:#ef4444}
*{box-sizing:border-box} body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;background:var(--bg);color:var(--ink);margin:0}
header{background:#fff;box-shadow:0 4px 10px rgba(0,0,0,.06)} header .wrap{display:flex;gap:12px;align-items:center;padding:14px 16px}
.brand{font-weight:800} .subtitle{color:var(--muted);font-size:.92rem}
main{padding:16px;max-width:980px;margin:0 auto} .section{background:var(--card);border-radius:16px;padding:16px;box-shadow:0 6px 16px rgba(0,0,0,.08);margin:12px 0}
.q{margin:10px 0;font-weight:700} .opt{background:#eef7ff;padding:10px;border-radius:10px;margin:6px 0;cursor:pointer;border:2px solid transparent} .opt:hover{border-color:#2ea5ff}
.opt.correct{background:#ecfbf5;border-color:#31c48d} .opt.wrong{background:#feecec;border-color:#ef4444} .explain{display:none;font-size:.9rem;color:#29405a;margin-top:6px}
.scorebox{position:sticky;bottom:0;background:#fff;padding:10px 16px;border-top:1px solid #e6eef7;display:flex;gap:12px;align-items:center}
.big{font-size:1.05rem;font-weight:800} .warn{display:none;background:#fff4e6;border:1px solid #ffd6a1;border-radius:10px;padding:8px 10px;color:#7a4a00;margin:8px 16px}
</style>
</head>
<body>
<header>
  <div class="wrap">
    <div>
      <div class="brand">Unit 1 â€” Interactive Exam</div>
      <div class="subtitle">Vocabulary & Grammar Â· Selfâ€‘correcting Â· Works offline</div>
    </div>
    <div class="panel" style="margin-left:auto;display:flex;gap:8px;align-items:center">
      <label class="subtitle">Voice:</label>
      <select id="voiceSel"></select>
      <label class="subtitle">Rate:</label>
      <input id="rate" type="range" min="0.7" max="1.1" step="0.01" value="0.85" />
      <button class="opt" id="testVoice">ðŸ”ˆ Test</button>
    </div>
  </div>
  <div id="warn" class="warn">No British (enâ€‘GB) voice found. Install UK English voice or use Chrome/Edge.</div>
</header>
<main>
  <div class="section">
    <h2>Vocabulary â€” Choose the correct answer</h2>
    <div id="voc"></div>
  </div>
  <div class="section">
    <h2>Grammar â€” Choose the correct answer</h2>
    <div id="gram"></div>
  </div>
</main>
<div class="scorebox">
  <div class="big">Score: <span id="score">0</span>/<span id="total">0</span></div>
  <button class="opt" id="resetBtn">â†» Reset Exam</button>
</div>
<script>
const VOCAB = [{"q": "Egypt has a rich ______ that we must protect.", "opts": ["heritage", "future", "modernity", "technology"], "a": 0}, {"q": "The Pyramids are a famous ______ in Egypt.", "opts": ["monument", "object", "festival", "instrument"], "a": 0}, {"q": "Tutankhamun was an ______ Egyptian king.", "opts": ["ancient", "modern", "temporary", "recent"], "a": 0}];
const GRAM = [{"q": "I ____ the museum yesterday.", "opts": ["visit", "visited", "was visiting", "visiting"], "a": 1}, {"q": "While I ____ in the street, I saw an old friend.", "opts": ["walk", "walked", "was walking", "walking"], "a": 2}];
const ALLOW=[/google\s+uk\s+english/i,/microsoft\s+hazel/i,/microsoft\s+george/i,/en-GB/i];
let voiceGB=null; const rate=document.getElementById('rate');
function listVoices(){ const sel=document.getElementById('voiceSel'); sel.innerHTML=''; const all=speechSynthesis.getVoices(); const gb=all.filter(v=>/en-GB/i.test(v.lang)&&ALLOW.some(r=>r.test(v.name))); const warn=document.getElementById('warn'); if(!gb.length){warn.style.display='block'; voiceGB=null; return;} warn.style.display='none'; gb.forEach((v,i)=>{ const o=document.createElement('option'); o.value=i; o.textContent=v.name+' ('+v.lang+')'; sel.appendChild(o); }); voiceGB=gb[0]; sel.selectedIndex=0; sel.onchange=()=>voiceGB=gb[sel.selectedIndex]; }
window.speechSynthesis.onvoiceschanged=listVoices; listVoices();
function speak(t){ if(!voiceGB) return; const u=new SpeechSynthesisUtterance(t); u.voice=voiceGB; u.rate=parseFloat(rate.value||'0.85'); u.pitch=1.02; speechSynthesis.speak(u); }
document.getElementById('testVoice').onclick=()=>speak('Well done!');
function cheer(){ const ctx=new (window.AudioContext||window.webkitAudioContext)(); const o=ctx.createOscillator(); const g=ctx.createGain(); o.type='triangle'; o.frequency.value=660; g.gain.value=0.08; o.connect(g); g.connect(ctx.destination); o.start(); setTimeout(()=>{o.frequency.value=990},160); setTimeout(()=>{o.stop(); ctx.close()},360); }
let score=0, total=VOCAB.length+GRAM.length; document.getElementById('total').textContent=total;
function build(box,data){ data.forEach((item,i)=>{ const wrap=document.createElement('div'); const q=document.createElement('div'); q.className='q'; q.textContent=item.q; wrap.appendChild(q); const explain=document.createElement('div'); explain.className='explain'; explain.textContent='Correct answer: '+item.opts[item.a]; wrap.appendChild(explain); item.opts.forEach((t,idx)=>{ const o=document.createElement('div'); o.className='opt'; o.textContent=(['a','b','c','d'][idx])+'. '+t; o.onclick=()=>{ if(o.classList.contains('correct')||o.classList.contains('wrong')) return; if(idx===item.a){ o.classList.add('correct'); cheer(); speak('Excellent!'); score++; document.getElementById('score').textContent=score; } else { o.classList.add('wrong'); speak('Incorrect. Showing the correct answer.'); explain.style.display='block'; } }; wrap.appendChild(o); }); box.appendChild(wrap); }); }
build(document.getElementById('voc'), VOCAB);
build(document.getElementById('gram'), GRAM);
document.getElementById('resetBtn').onclick=()=>{ score=0; document.getElementById('score').textContent=score; document.querySelectorAll('.explain').forEach(e=>e.style.display='none'); document.querySelectorAll('.opt').forEach(o=>o.classList.remove('correct','wrong')); };
</script>
</body>
</html>
