
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Unit 1 Â· Mini Platform â€” Prepared by Asmaa Mahmoud Alhagrasy</title>
  <style>
    :root{--bg:#f6f9ff;--card:#ffffff;--ink:#0f1b33;--muted:#53627c;--accent:#6a9cff;--accent2:#ff89c6;--accent3:#51d1a6;--accent4:#ffd166}
    *{box-sizing:border-box}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;background:var(--bg);color:var(--ink);margin:0}
    header{position:sticky;top:0;background:#fff;box-shadow:0 6px 18px rgba(0,0,0,.08);z-index:100}
    header .wrap{display:flex;align-items:center;gap:12px;padding:14px 16px}
    .brand{font-weight:800}
    .subtitle{color:var(--muted);font-size:.92rem}
    .logo{display:flex;align-items:center;gap:8px}
    .tabs{display:flex;flex-wrap:wrap;gap:10px;padding:12px 16px;background:linear-gradient(90deg,var(--accent),var(--accent2))}
    .tab-btn{appearance:none;border:none;padding:10px 14px;border-radius:12px;background:#fff;color:#0f1b33;font-weight:700;cursor:pointer}
    .tab-btn.active{background:var(--card);box-shadow:0 4px 14px rgba(0,0,0,.12)}
    .panel{margin-left:auto;display:flex;gap:8px;align-items:center}
    select,input[type=range]{appearance:none;padding:6px;border-radius:10px;border:1px solid #dbe7f3}
    main{padding:12px}
    .viewer{background:#fff;border:none;width:100%;height:80vh;border-top:6px solid var(--accent);box-shadow:0 6px 18px rgba(0,0,0,.08);border-radius:12px}
    .hint{padding:8px 16px;color:#29405a}
    .warn{display:none;background:#fff4e6;border:1px solid #ffd6a1;border-radius:10px;padding:8px 10px;color:#7a4a00;margin:8px 16px}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="logo">
        <svg width="36" height="36" viewBox="0 0 48  48" xmlns="http://www.w3.org/2000/svg" aria-label="Ms English logo">
          <defs>
            <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0" stop-color="#6a9cff"/>
              <stop offset="1" stop-color="#ff89c6"/>
            </linearGradient>
          </defs>
          <circle cx="24" cy="24" r="22" fill="url(#g)"/>
          <text x="24" y="29" text-anchor="middle" font-family="Segoe UI, Arial" font-size="16" fill="#fff" font-weight="800">Ms</text>
        </svg>
        <div>
          <div class="brand">Unit 1 Â· Mini Platform</div>
          <div class="subtitle">Prepared by Asmaa Mahmoud Alhagrasy Â· Ms English</div>
        </div>
      </div>
      <div class="panel">
        <label class="subtitle">Voice:</label>
        <select id="voiceSel"></select>
        <label class="subtitle">Rate:</label>
        <input id="rate" type="range" min="0.7" max="1.2" step="0.01" value="0.85" />
        <button class="tab-btn" id="testVoice">ðŸ”ˆ Test</button>
      </div>
    </div>
    <div id="warn" class="warn">No British (enâ€‘GB) voice found. Install a UK English voice (e.g., Google UK English or Microsoft Hazel/George), then reload. The app will stay silent to avoid wrong accents.</div>
    <div class="tabs">
      <button class="tab-btn active" data-url="lesson1.html">Lesson 1</button>
      <button class="tab-btn" data-url="lesson2.html">Lesson 2</button>
      <button class="tab-btn" data-url="lesson3.html">Lesson 3</button>
      <button class="tab-btn" data-url="lesson4.html">Lesson 4</button>
      <button class="tab-btn" data-url="exam.html">Unit Exam</button>
    </div>
  </header>
  <main>
    <div class="hint">Click any tab to load its interactive page below. Works offline.</div>
    <iframe id="viewer" class="viewer" src="lesson1.html" title="Lesson viewer"></iframe>
  </main>

  <script>
    const ALLOW_NAMES=[/google\s+uk\s+english/i,/microsoft\s+hazel/i,/microsoft\s+george/i,/en-GB/i];
    let voiceGB=null; const rate=document.getElementById('rate');
    function listVoices(){
      const sel=document.getElementById('voiceSel'); sel.innerHTML='';
      const all=speechSynthesis.getVoices();
      const gb=all.filter(v=>/en-GB/i.test(v.lang) && ALLOW_NAMES.some(re=>re.test(v.name)));
      const warn=document.getElementById('warn');
      if(!gb.length){warn.style.display='block'; voiceGB=null; return;} warn.style.display='none';
      gb.forEach((v,i)=>{const o=document.createElement('option'); o.value=i; o.textContent=v.name+' ('+v.lang+')'; sel.appendChild(o)});
      voiceGB=gb[0]; sel.selectedIndex=0; sel.onchange=()=>voiceGB=gb[sel.selectedIndex];
    }
    window.speechSynthesis.onvoiceschanged=listVoices; listVoices();
    function speak(t){ if(!voiceGB) return; const u=new SpeechSynthesisUtterance(t); u.voice=voiceGB; u.rate=parseFloat(rate.value||'0.85'); u.pitch=1.02; speechSynthesis.speak(u); }
    document.getElementById('testVoice').onclick=()=>speak('Welcome to Unit one. Choose your lesson.');

    document.querySelectorAll('.tabs .tab-btn').forEach(btn=>{
      btn.addEventListener('click',()=>{
        document.querySelectorAll('.tabs .tab-btn').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById('viewer').src = btn.dataset.url;
      });
    });
  </script>
</body>
</html>
